<<<<<<< HEAD
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read: if true;
      allow write: if true;
      // if request.auth != null;
    }
  }
    match /customerPayments/{courseId} {
      // Anyone who has paid for a course; can read/ take the course
      allow read: if resource.data.published == true || (request.auth != null && request.auth.uid == resource.data.author);
      // Only logged in users can write
      allow write: if request.auth != null && request.auth.uid == resource.data.author;
    }
}
  
import firebase from "firebase/app";
import "firebase/storage";

function updateMetadata() {
  const storageRef = firebase.storage().ref();

  // [START storage_update_metadata]
  // Create a reference to the file whose metadata we want to change
  var forestRef = storageRef.child('images/forest.jpg');

  // Create file metadata to update
  var newMetadata = {
    cacheControl: 'public,max-age=21900',
    contentType: 'image/jpeg'
  };

  // Update metadata properties
  forestRef.updateMetadata(newMetadata)
    .then((metadata) => {
      // Updated metadata for 'images/forest.jpg' is returned in the Promise
    }).catch((error) => {
      // Uh-oh, an error occurred!
    });
  // [END storage_update_metadata]
}

https://www.learnrxjs.io/learn-rxjs/operators/multicasting/sharereplay#examples



=======
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read: if true;
      allow write: if true;
      // if request.auth != null;
    }
  }
    match /customerPayments/{courseId} {
      // Anyone who has paid for a course; can read/ take the course
      allow read: if resource.data.published == true || (request.auth != null && request.auth.uid == resource.data.author);
      // Only logged in users can write
      allow write: if request.auth != null && request.auth.uid == resource.data.author;
    }
}
  
>>>>>>> 0870320b501de0e3fc84ebf263cd0692e8b66f90
